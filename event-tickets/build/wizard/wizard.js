(()=>{var e={KS35:()=>{}},t={};function n(s){var i=t[s];if(void 0!==i)return i.exports;var a=t[s]={exports:{}};return e[s](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/wp-content/plugins/event-tickets/build/",(()=>{"use strict";var e={};n.r(e),n.d(e,{getCompletedTabs:()=>v,getCountryCurrency:()=>k,getIsSaving:()=>m,getSetting:()=>h,getSettings:()=>b,getSkippedTabs:()=>S});var t={};n.r(t),n.d(t,{TYPES:()=>x,completeTab:()=>E,createSetting:()=>C,initializeSettings:()=>T,setSaving:()=>j,skipTab:()=>w,updateSettings:()=>f});var s={};n.r(s),n.d(s,{getInitialState:()=>q,getIsOpen:()=>U});var i={};n.r(i),n.d(i,{closeModal:()=>$,openModal:()=>K});const a=window.React;var c=n.n(a);const o=window.wp.domReady;var r=n.n(o);const l=window.ReactDOM;var d=n.n(l);const u=window.wp.components,_=window.wp.element,p=window.wp.data,g=window.wp.i18n,b=e=>e.settings||{},h=(e,t)=>e.settings[t]||!1,m=e=>e.isSaving||!1,v=e=>e.completedTabs||[],S=e=>e.skippedTabs||[],k=e=>{const t=e.settings.country,n=e.settings.countries,s=n&&n[t];return s&&s.currency||!1},x={CREATE:"CREATE",INITIALIZE:"INITIALIZE",IS_SAVING:"IS_SAVING",SAVE_SETTINGS_ERROR:"SAVE_SETTINGS_ERROR",SAVE_SETTINGS_REQUEST:"SAVE_SETTINGS_REQUEST",SAVE_SETTINGS_SUCCESS:"SAVE_SETTINGS_SUCCESS",UPDATE:"UPDATE",SKIP_TAB:"SKIP_TAB",COMPLETE_TAB:"COMPLETE_TAB"};function T(e){return{type:x.INITIALIZE,settings:e}}function C(e){return{type:x.CREATE,setting:e}}const f=e=>({type:x.UPDATE,settings:e}),j=e=>({type:x.IS_SAVING,isSaving:e}),w=e=>({type:x.SKIP_TAB,payload:e}),E=e=>({type:x.COMPLETE_TAB,payload:e}),{CREATE:N,INITIALIZE:y,IS_SAVING:L,SAVE_SETTINGS_ERROR:A,SAVE_SETTINGS_REQUEST:I,SAVE_SETTINGS_SUCCESS:M,UPDATE:O,SKIP_TAB:R,COMPLETE_TAB:D}={CREATE:"CREATE",INITIALIZE:"INITIALIZE",IS_SAVING:"IS_SAVING",SAVE_SETTINGS_ERROR:"SAVE_SETTINGS_ERROR",SAVE_SETTINGS_REQUEST:"SAVE_SETTINGS_REQUEST",SAVE_SETTINGS_SUCCESS:"SAVE_SETTINGS_SUCCESS",UPDATE:"UPDATE",SET_VISITED_FIELDS:"SET_VISITED_FIELDS",SKIP_TAB:"SKIP_TAB",COMPLETE_TAB:"COMPLETE_TAB"},P={settings:{},isSaving:!1,error:null,completedTabs:[],skippedTabs:[]};var Z=n("KS35");const B=window.wp.dataControls,V="data/TTOWSettingsStore",F="/tec/tickets/onboarding/wizard",G={selectors:e,actions:t,reducer:(e=P,{settings:t,setting:n,type:s,payload:i,error:a})=>{switch(s){case y:if(e.settings&&Object.keys(e.settings).length>0)return e;const{completedTabs:s=[],skippedTabs:c=[],...o}=t||{};return{...e,settings:o,completedTabs:s,skippedTabs:c};case N:return{...e,settings:{...e.settings,...n&&n.key?{[n.key]:n.value}:{}}};case O:return t?{...e,settings:{...e.settings,...t}}:e;case I:return{...e,isSaving:!0,error:null};case M:return{...e,settings:{...e.settings,...i},isSaving:!1};case A:return{...e,isSaving:!1,error:a};case L:return{...e,isSaving:i||!1};case D:return{...e,completedTabs:Array.from(new Set([...e.completedTabs||[],i])),skippedTabs:e.skippedTabs.filter((e=>e!==i))};case R:return e.completedTabs.includes(i)?e:{...e,skippedTabs:Array.from(new Set([...e.skippedTabs||[],i]))};default:return e}},resolvers:Z,controls:B.controls},U=e=>e.isOpen,q=()=>!0,H={OPEN_MODAL:"OPEN_MODAL",CLOSE_MODAL:"CLOSE_MODAL"},{OPEN_MODAL:W,CLOSE_MODAL:z}=H,K=()=>({type:W}),$=()=>({type:z}),{OPEN_MODAL:Q,CLOSE_MODAL:Y}=H,J={isOpen:!1},X="data/TTOWModalStore",ee={actions:i,reducer:(e=J,t)=>{switch(t.type){case Q:return{...e,isOpen:!0};case Y:return{...e,isOpen:!1};default:return e}},selectors:s};(0,p.registerStore)(V,G),(0,p.registerStore)(X,ee);const te=window.ReactJSXRuntime,ne=e=>(0,te.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:39,height:39,className:"tec-tickets-onboarding__header-icon",role:"presentation",...e,children:[(0,te.jsx)("path",{d:"M8.76397 6.57814L8.80191 6.60875L12.2129 9.70218C12.3821 9.85562 12.393 10.1147 12.2373 10.2814C11.8303 10.717 11.6004 11.2865 11.6004 11.8925C11.6004 13.2047 12.6746 14.2675 13.9985 14.2675C14.6823 14.2675 15.319 13.9832 15.7706 13.4926C15.9263 13.3234 16.2227 13.6861 16.3933 13.8408C17.9076 15.3294 19.1762 16.5765 19.1762 16.5765C19.1762 16.5765 23.1554 13.1733 23.8145 12.1994C23.9481 12.0018 24.0471 11.7213 24.236 11.8587L24.2726 11.8886L27.4218 14.7681C27.5989 14.93 27.5994 15.2054 27.423 15.368L27.3387 15.448C26.779 16.007 26.4589 16.7623 26.4589 17.5695C26.4589 19.2256 27.8017 20.5659 29.4548 20.5659C30.3915 20.5659 31.2559 20.1332 31.8207 19.4059C31.9604 19.2261 32.2188 19.1933 32.3994 19.324L32.4368 19.3545L35.5792 22.2279C35.7276 22.3636 35.7554 22.5843 35.6453 22.7514C33.1185 26.5882 26.5242 30.4331 22.9219 30.782C19.7626 31.0879 17.5898 30.6676 15.1515 29.0973L14.9955 28.9955C13.3355 27.8983 10.2918 25.4277 5.84995 21.5741L5.28232 21.0808C3.94772 20.4009 3.19104 19.0157 3.2536 16.8252C3.34447 13.6301 5.10981 10.0007 8.20939 6.63496C8.35402 6.47791 8.59387 6.45654 8.76397 6.57814Z",fill:"white"}),(0,te.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M27.0635 29.3657C29.4621 28.3924 33.9704 25.1882 35.7502 22.566C35.7502 22.566 34.5524 21.518 32.1569 19.422C31.5335 20.2008 30.5586 20.7024 29.4621 20.7024C27.5797 20.7024 26.0533 19.2242 26.0533 17.4012C26.0533 16.4895 27.0518 15.0665 27.0518 15.0665L24.0026 12.1875C23.1847 13.3597 21.4973 15.2836 19.3424 16.8344C18.3502 17.5484 17.259 18.1833 16.1079 18.6293",fill:"#334AFF"}),(0,te.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.80191 6.60875L8.76397 6.57814C8.59387 6.45654 8.35402 6.47791 8.20939 6.63496C5.10981 10.0007 3.34447 13.6301 3.2536 16.8252C3.19104 19.0157 3.94772 20.4009 5.28232 21.0808L5.84995 21.5741C10.2918 25.4277 13.3355 27.8983 14.9955 28.9955L15.1515 29.0973C17.5898 30.6676 19.7626 31.0879 22.9219 30.782C26.5242 30.4331 33.1185 26.5882 35.6453 22.7514C35.7554 22.5843 35.7276 22.3636 35.5792 22.2279L32.4368 19.3545L32.3994 19.324C32.2188 19.1933 31.9604 19.2261 31.8207 19.4059C31.2559 20.1332 30.3915 20.5659 29.4548 20.5659C27.8017 20.5659 26.4589 19.2256 26.4589 17.5695C26.4589 16.7623 26.779 16.007 27.3387 15.448L27.423 15.368C27.5994 15.2054 27.5989 14.93 27.4218 14.7681L24.2726 11.8886L24.236 11.8587C24.0471 11.7213 23.7744 11.7642 23.6408 11.9618C22.6426 13.4366 21.1618 14.8281 18.9754 16.5138L18.7827 16.6551C14.5326 19.7544 10.6459 21.2631 6.8309 20.7046C5.03798 20.4418 4.01801 19.3044 4.08815 16.8482L4.09435 16.6853C4.22917 13.8536 5.78461 10.6089 8.50882 7.53915L8.54791 7.49507L11.3605 10.0458L11.3232 10.0983C10.9637 10.6206 10.7655 11.2417 10.7655 11.8925C10.7655 13.6568 12.2124 15.0882 13.9985 15.0882L14.1135 15.0862C14.8394 15.061 15.5216 14.7978 16.0655 14.35L16.0863 14.3321L17.547 15.6565C17.7165 15.8101 17.9806 15.7997 18.1369 15.6331C18.2932 15.4665 18.2826 15.2069 18.1131 15.0532L16.3632 13.4663C16.1926 13.3116 15.9263 13.3234 15.7706 13.4926C15.319 13.9832 14.6823 14.2675 13.9985 14.2675C12.6746 14.2675 11.6004 13.2047 11.6004 11.8925C11.6004 11.2865 11.8303 10.717 12.2373 10.2814C12.393 10.1147 12.3821 9.85562 12.2129 9.70218L8.80191 6.60875ZM24.0147 12.8678L24.056 12.8111L26.545 15.0872L26.4912 15.1503C25.9361 15.8249 25.6241 16.6732 25.6241 17.5695C25.6241 19.6761 27.3378 21.3866 29.4548 21.3866L29.5787 21.3846C30.5667 21.3531 31.4846 20.946 32.1648 20.2661L32.1851 20.2449L34.7491 22.5896L34.6739 22.6939C32.1071 26.1901 26.0732 29.6521 22.8401 29.9652C19.7956 30.26 17.7908 29.8541 15.4614 28.3144L15.2228 28.1537C13.7859 27.1687 11.4054 25.2535 8.08892 22.4129L7.1063 21.5678C10.994 22.0025 14.8868 20.4765 19.0774 17.4611L19.4838 17.1647L19.7062 16.9925C21.6269 15.497 23.0098 14.2141 24.0147 12.8678Z",fill:"#0F1031"}),(0,te.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M27.5517 24.7017C27.1421 25.1379 27.1706 25.817 27.6153 26.2189C28.0603 26.6208 28.7535 26.5924 29.1631 26.1562C29.5731 25.72 29.5446 25.0409 29.0996 24.6394C28.6545 24.2379 27.9617 24.2655 27.5517 24.7017Z",fill:"white"}),(0,te.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.2657 21.8386C23.8557 22.2747 23.8846 22.9538 24.3293 23.3553C24.7743 23.7575 25.4675 23.7292 25.8772 23.293C26.2872 22.8568 26.2582 22.1777 25.8132 21.7759C25.3682 21.3744 24.6753 21.4024 24.2657 21.8386Z",fill:"white"}),(0,te.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.9799 18.9792C20.5703 19.4155 20.5989 20.0947 21.0435 20.4962C21.4885 20.8981 22.1817 20.8697 22.5913 20.4335C23.0013 19.9976 22.9728 19.3181 22.5278 18.9166C22.0828 18.515 21.3899 18.543 20.9799 18.9792Z",fill:"white"})]}),se=c().memo((({children:e,id:t,tabId:n,tabIndex:s,activeTab:i})=>(0,te.jsx)("section",{role:"tabpanel",id:t,"aria-labelledby":n,"aria-hidden":i!==s,hidden:i!==s,tabIndex:i===s?0:-1,className:`tec-tickets-onboarding__tabpanel tec-tickets-onboarding__tabpanel-${n} ${i===s?"active":""}`,children:e}))),ie=({index:e,tab:t,activeTab:n,handleChange:s})=>{const{id:i,title:c,disabled:o,completed:r,panelId:l,ref:d}=t,u=n===e,_=(0,a.useMemo)((()=>["tec-tickets-onboarding__tab",`tec-tickets-onboarding__tab--${i}`,o&&"tec-tickets-onboarding__tab--disabled",u&&"tec-tickets-onboarding__tab--active",r&&"tec-tickets-onboarding__tab--completed"].filter(Boolean).join(" ")),[o,u,r]);return(0,te.jsx)("li",{role:"presentation",className:_,children:(0,te.jsx)("button",{"aria-controls":l,"aria-selected":u,className:"tec-tickets-onboarding__tab-button",disabled:o,id:i,onClick:()=>s(e),ref:d,role:"tab",tabIndex:u?0:-1,children:(0,te.jsx)("span",{className:"tec-tickets-onboarding__tab-title",children:c})})})},ae=window.wp.apiFetch;var ce=n.n(ae);const oe=({moveToNextTab:e,tabSettings:t})=>{const n=(0,p.useDispatch)(V).completeTab,s=(0,p.useSelect)((e=>e(V).getSetting("action_nonce")),[]),i=(0,p.useSelect)((e=>e(V).getSetting("_wpnonce")),[]),a=(0,p.useDispatch)(V).updateSettings,c=(0,p.useSelect)((e=>e(V).getSettings)),o=(0,p.useSelect)((e=>e(V).getCompletedTabs)),r=(0,p.useSelect)((e=>e(V).getSkippedTabs)),[l,d]=(0,_.useState)(!1),[b,h]=(0,_.useState)(!1);return(0,_.useEffect)((()=>{t&&!l&&(d(!1),h(!1))}),[t]),(0,_.useEffect)((()=>{b&&(async()=>{d(!0),t.action_nonce=s,n(t.currentTab),a(t),ce().use(ce().createNonceMiddleware(i)),(await ce()({method:"POST",data:{...c(),completedTabs:o(),skippedTabs:r()},path:F})).success&&(Array.from(document.getElementsByClassName(`tec-tickets-onboarding-step-${t.currentTab}`)).map((e=>{e.classList.add("tec-admin-page__onboarding-step--completed")})),d(!1),e()),d(!1)})()}),[b]),(0,te.jsx)(te.Fragment,{children:(0,te.jsxs)(u.Button,{variant:"primary",onClick:()=>h(!0),className:"tec-tickets-onboarding__button tec-tickets-onboarding__button--setup",children:[l&&(0,g.__)("Setting up...","event-tickets"),l&&(0,te.jsx)(u.Spinner,{}),!l&&(0,g.__)("Setup your tickets","event-tickets")]})})},re=()=>{const e=(0,p.useDispatch)(X).closeModal,t=(0,p.useSelect)((e=>e(V).getSetting("action_nonce")),[]),n=(0,p.useSelect)((e=>e(V).getSetting("_wpnonce")),[]),[s,i]=(0,_.useState)(!1);return(0,_.useEffect)((()=>{s&&(async()=>{ce().use(ce().createNonceMiddleware(n)),await ce()({method:"POST",data:{finished:!0,begun:!1,action_nonce:t},path:F}),setTimeout((()=>{e()}),1e3)})()}),[s]),(0,te.jsx)(u.Button,{variant:"link",onClick:()=>i(!0),className:"tec-tickets-onboarding__button tec-tickets-onboarding__button--skip tec-tickets-onboarding__button--exit",children:(0,g.__)("Skip guided setup","event-tickets")})},le=({initialOptin:e,onChange:t})=>{const[n,s]=(0,_.useState)(e);return(0,te.jsxs)("div",{className:"tec-tickets-onboarding__checkbox tec-tickets-onboarding__checkbox--optin",children:[(0,te.jsx)(u.CheckboxControl,{__nextHasNoMarginBottom:!0,"aria-describedby":"tec-tickets-onboarding__checkbox-permissions",checked:n,onChange:e=>{s(e),t(e)},id:"tec-tickets-onboarding__optin-checkbox-input"}),(0,te.jsxs)("div",{className:"tec-tickets-onboarding__checkbox-description",children:[(0,te.jsx)("label",{htmlFor:"tec-tickets-onboarding__optin-checkbox-input",children:(0,g.__)("Yes, I’d like to share basic information about my usage for future improvements.","event-tickets")}),(0,te.jsx)("div",{id:"tec-tickets-onboarding__checkbox-permissions",children:(0,te.jsx)("a",{href:"https://evnt.is/1bcl",target:"_blank",children:(0,g.__)("What permissions are being granted?","event-tickets")})})]})]})},de=n.p+"images/wizard-welcome-img.243c31cffd4c3d640658.png",ue=({moveToNextTab:e})=>{const t=(0,p.useSelect)((e=>e(V).getSetting("optin")||!1),[]),n=(0,p.useSelect)((e=>e(V).getSetting("country")||"US"),[]),s=(0,p.useSelect)((e=>e(V).getSetting("countries")||{}),[]),i=(0,p.useDispatch)(V).updateSettings,[c,o]=(0,a.useState)(t),[r,l]=(0,a.useState)(t),[d,_]=(0,a.useState)(n);(0,a.useEffect)((()=>{l(t)}),[t]),(0,a.useEffect)((()=>{const e=d||n,t=s[e]?.has_stripe||!1;i({country:e,paymentOption:t?"stripe":""})}),[d,n,s,i]);const b={optin:r,country:d,paymentOption:s[d]?.has_stripe?"stripe":"",currentTab:0,begun:!0};return(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)("div",{className:"tec-tickets-onboarding__tab-hero",children:(0,te.jsx)("img",{src:de,className:"tec-tickets-onboarding__welcome-header",alt:"Welcome",role:"presentation"})}),(0,te.jsxs)("div",{className:"tec-tickets-onboarding__tab-header",children:[(0,te.jsx)("h1",{className:"tec-tickets-onboarding__tab-heading",children:(0,g.__)("Welcome to Event Tickets","event-tickets")}),(0,te.jsx)("p",{className:"tec-tickets-onboarding__tab-subheader",children:(0,g.__)("Congratulations on installing the top ticket management solution for WordPress - now let's make it yours.","event-tickets")})]}),(0,te.jsxs)("div",{className:"tec-tickets-onboarding__tab-content",children:[(0,te.jsx)("div",{className:"tec-tickets-onboarding__form-wrapper",children:(0,te.jsxs)(u.BaseControl,{__nextHasNoMarginBottom:!0,id:"country",label:(0,g.__)("Where in the world will you host your events?","event-tickets"),className:"tec-tickets-onboarding__form-field",children:[(0,te.jsx)("select",{id:"country",onChange:e=>_(e.target.value),defaultValue:d,required:!0,children:Object.entries(s).map((([e,t])=>({code:e,name:t.name,continent:t.group}))).sort(((e,t)=>e.name.localeCompare(t.name))).map((({code:e,name:t})=>(0,te.jsx)("option",{value:e,children:t},e)))}),(0,te.jsx)("span",{className:"tec-tickets-onboarding__required-label",children:(0,g.__)("Country is required.","event-tickets")}),(0,te.jsx)("span",{className:"tec-tickets-onboarding__invalid-label",children:(0,g.__)("Country is invalid.","event-tickets")})]})}),(0,te.jsx)(oe,{tabSettings:b,moveToNextTab:e}),(0,te.jsx)(re,{}),(0,te.jsx)("div",{className:"tec-tickets-onboarding__tab-footer",children:!c&&(0,te.jsx)(le,{initialOptin:t,onChange:l})})]})]})},_e=({disabled:e,moveToNextTab:t,tabSettings:n,onSuccess:s})=>{const i=(0,p.useDispatch)(V).completeTab,{closeModal:a}=(0,p.useDispatch)(X),c=(0,p.useSelect)((e=>e(V).getSetting("action_nonce")),[]),o=(0,p.useSelect)((e=>e(V).getSetting("_wpnonce")),[]),r=(0,p.useDispatch)(V).updateSettings,l=(0,p.useSelect)((e=>e(V).getSettings)),d=(0,p.useSelect)((e=>e(V).getCompletedTabs)),b=(0,p.useSelect)((e=>e(V).getSkippedTabs)),h=3===n.currentTab,[m,v]=(0,_.useState)(!1),[S,k]=(0,_.useState)(!1);return(0,_.useEffect)((()=>{n&&!m&&(v(!1),k(!1))}),[n]),(0,_.useEffect)((()=>{S&&(async()=>{v(!0),h&&(n.finished=!0),n.action_nonce=c,i(n.currentTab),r(n),ce().use(ce().createNonceMiddleware(o)),(await ce()({method:"POST",data:{...l(),completedTabs:d(),skippedTabs:b()},path:F})).success?(Array.from(document.getElementsByClassName(`tec-tickets-onboarding-step-${n.currentTab}`)).map((e=>{e.classList.add("tec-admin-page__onboarding-step--completed")})),v(!1),h?setTimeout((()=>{s()}),1e3):t()):h&&(v(!1),setTimeout((()=>{a()}),1e3)),v(!1)})()}),[S]),(0,te.jsx)(te.Fragment,{children:(0,te.jsxs)(u.Button,{variant:"primary",disabled:e||m,onClick:()=>k(!0),className:"tec-tickets-onboarding__button tec-tickets-onboarding__button--next",children:[m&&(0,g.__)("Saving...","event-tickets"),m&&(0,te.jsx)(u.Spinner,{}),!m&&(0,g.__)("Continue","event-tickets")]})})},pe=({skipToNextTab:e,currentTab:t,buttonText:n=(0,g.__)("Skip step","event-tickets")})=>{const s=(0,p.useDispatch)(V).skipTab,i=(0,p.useDispatch)(X).closeModal,a=(0,p.useSelect)((e=>e(V).getSettings)),c=(0,p.useSelect)((e=>e(V).getCompletedTabs)),o=(0,p.useSelect)((e=>e(V).getSkippedTabs)),[r,l]=(0,_.useState)(!1);return(0,_.useEffect)((()=>{r&&(async()=>{s(t);const n=a();3===t&&(n.finished=!0),(await ce()({method:"POST",data:{...n,completedTabs:c(),skippedTabs:o()},path:F})).success&&t<3?e():setTimeout((()=>{i()}),1e3)})()}),[r]),(0,te.jsx)(u.Button,{variant:"link",onClick:()=>l(!0),className:"tec-tickets-onboarding__button tec-tickets-onboarding__button--skip",children:n})},ge=()=>(0,te.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:31,height:30,fill:"none",className:"tec-tickets-onboarding__content-header-icon",role:"presentation",children:(0,te.jsx)("path",{fill:"#C3C4C7",fillRule:"evenodd",d:"m5.546 7.629.821-3.004c.051-.18.122-.345.224-.489a1.49 1.49 0 0 1 .455-.428 1.387 1.387 0 0 1 1.105-.158l14.483 4.08h-7.262l-.154-.044-.012.044h-2.458l.182-.656-4.856-1.367-.55 2.023H5.546Zm20.994 18.87-22.09-.005a1.41 1.41 0 0 1-1.02-.435A1.506 1.506 0 0 1 3.007 25l.004-4.54.33.002c1.411-.024 2.552-1.237 2.561-2.725-.006-1.48-1.15-2.701-2.556-2.73l-.047-.124.008.123-.307.007.004-4.54a1.51 1.51 0 0 1 .413-1.068 1.396 1.396 0 0 1 1.024-.452l22.101.01c.805.006 1.449.676 1.451 1.51v4.529l-.24.004c-1.41.024-2.555 1.249-2.561 2.725.006 1.48 1.151 2.702 2.557 2.73H28l-.012.25v4.274c0 .403-.149.777-.425 1.064a1.396 1.396 0 0 1-1.023.45ZM11.126 12.85c-.66-.004-1.183-.495-1.184-1.114l.004-.778-5.04-.002.002 2.406c1.735.689 2.9 2.44 2.895 4.388-.004 1.947-1.165 3.69-2.898 4.386l.001 2.406 5.04.002.005-.818c0-.295.12-.586.354-.795.23-.196.52-.302.826-.309.334-.01.645.12.865.35.202.21.304.477.307.76l-.005.818 13.799-.002.004-2.458c-1.683-.723-2.801-2.458-2.802-4.353-.002-1.896 1.127-3.624 2.802-4.341l.004-2.458-13.794-.01v.806c-.011.614-.537 1.117-1.185 1.116Zm-.838 1.327a1.069 1.069 0 0 0-.288.43 1.256 1.256 0 0 0-.066.365l-.003 1.14c.003.284.105.55.307.76.22.23.53.36.865.35.33.003.64-.123.87-.359a1.04 1.04 0 0 0 .314-.756l.015-1.137a1.097 1.097 0 0 0-.306-.76 1.148 1.148 0 0 0-.866-.35 1.255 1.255 0 0 0-.842.317Zm-.282 5.014a1.175 1.175 0 0 0-.062.354l-.003 1.14c0 .62.524 1.11 1.184 1.115.648 0 1.174-.502 1.18-1.104l.004-1.141c-.001-.619-.525-1.11-1.184-1.114-.53.003-.96.313-1.119.75Z",clipRule:"evenodd"})}),be=()=>(0,te.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:81,height:40,fill:"none",role:"presentation",children:[(0,te.jsx)("g",{clipPath:"url(#a)",children:(0,te.jsxs)("g",{fill:"#6772E5",clipPath:"url(#b)",children:[(0,te.jsx)("path",{fillRule:"evenodd",d:"M80.374 20.997c0-5.623-2.732-10.068-7.934-10.068-5.201 0-8.397 4.439-8.397 10.026 0 6.618 3.756 9.955 9.09 9.955 2.623 0 4.594-.598 6.083-1.426V25.09a11.59 11.59 0 0 1-5.389 1.216c-2.15 0-4.022-.757-4.27-3.329h10.744c.038-.658.062-1.317.071-1.977l.002-.002ZM69.507 18.92c0-2.473 1.527-3.507 2.896-3.507s2.776 1.025 2.776 3.507h-5.672Zm-13.939-7.98a6.144 6.144 0 0 0-4.3 1.706l-.287-1.366h-4.83v25.61l5.486-1.167v-6.208a6.147 6.147 0 0 0 3.896 1.43c3.928 0 7.511-3.157 7.511-10.131.004-6.403-3.626-9.876-7.482-9.876l.006.001Zm-1.323 15.144a3.278 3.278 0 0 1-2.589-1.025l-.034-8.145a3.312 3.312 0 0 1 2.62-1.086c2.007 0 3.39 2.263 3.39 5.122.004 2.934-1.355 5.143-3.387 5.143v-.01ZM44.086 3.992l-5.509 1.171v4.468l5.51-1.167V3.992Z",clipRule:"evenodd"}),(0,te.jsx)("path",{d:"M38.577 11.305h5.51V30.54h-5.51V11.305Z"}),(0,te.jsx)("path",{fillRule:"evenodd",d:"m32.678 12.926-.342-1.623h-4.747V30.54h5.484V17.484c1.298-1.696 3.487-1.366 4.184-1.15v-5.028c-.731-.263-3.296-.745-4.58 1.617v.003ZM21.67 6.539l-5.358 1.138-.022 17.604c0 3.247 2.44 5.648 5.699 5.648 1.793 0 3.117-.341 3.852-.727v-4.469c-.704.28-4.167 1.288-4.167-1.945v-7.806h4.166v-4.68h-4.166l-.004-4.763ZM6.813 16.885c0-.858.713-1.188 1.864-1.188 1.907.042 3.777.526 5.464 1.414v-5.17a14.498 14.498 0 0 0-5.464-1.004c-4.438 0-7.417 2.326-7.417 6.208 0 6.075 8.343 5.088 8.343 7.707 0 1.025-.883 1.342-2.108 1.342-1.816 0-4.163-.751-6.003-1.754v5.238a15.227 15.227 0 0 0 6.003 1.264c4.563 0 7.707-2.254 7.707-6.205 0-6.557-8.39-5.385-8.39-7.854l.001.002Zm-36.674-2.777c0-1.55 1.29-2.15 3.373-2.15a22.24 22.24 0 0 1 9.885 2.558V5.161a26.226 26.226 0 0 0-9.885-1.816c-8.031 0-13.418 4.207-13.418 11.232 0 10.991 15.092 9.206 15.092 13.944 0 1.853-1.583 2.427-3.812 2.427-3.286 0-7.53-1.36-10.86-3.17v9.478a27.548 27.548 0 0 0 10.861 2.287c8.255 0 13.945-4.078 13.945-11.225 0-11.862-15.181-9.743-15.181-14.208v-.002Z",clipRule:"evenodd"})]})}),(0,te.jsxs)("defs",{children:[(0,te.jsx)("clipPath",{id:"a",children:(0,te.jsx)("path",{fill:"#fff",d:"M.5 0h80v40H.5z"})}),(0,te.jsx)("clipPath",{id:"b",children:(0,te.jsx)("path",{fill:"#fff",d:"M.5 0h88.235v40H.5z"})})]})]}),he=()=>(0,te.jsx)("svg",{width:"17",height:"16",viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",role:"presentation",children:(0,te.jsx)("path",{d:"M13.4626 2L15.1668 3.20502L7.69816 14H5.9939L1.8335 8.17573L3.53776 6.56904L6.84603 9.6318L13.4626 2Z",fill:"#00A32A"})}),me=()=>(0,te.jsx)("svg",{width:"16",height:"17",viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",role:"presentation",children:(0,te.jsx)("path",{d:"M8 2.5C9.09268 2.5 10.0976 2.77317 11.0146 3.31951C11.9317 3.84634 12.6537 4.56829 13.1805 5.48537C13.7268 6.40244 14 7.40732 14 8.5C14 9.59268 13.7268 10.5976 13.1805 11.5146C12.6537 12.4317 11.9317 13.1634 11.0146 13.7098C10.0976 14.2366 9.09268 14.5 8 14.5C6.90732 14.5 5.90244 14.2366 4.98537 13.7098C4.06829 13.1634 3.33659 12.4317 2.79024 11.5146C2.26341 10.5976 2 9.59268 2 8.5C2 7.40732 2.26341 6.40244 2.79024 5.48537C3.33659 4.56829 4.06829 3.84634 4.98537 3.31951C5.90244 2.77317 6.90732 2.5 8 2.5ZM11.7463 10.7537L9.49268 8.5L11.7463 6.24634L10.2537 4.75366L8 7.00732L5.74634 4.75366L4.25366 6.24634L6.50732 8.5L4.25366 10.7537L5.74634 12.2463L8 9.99268L10.2537 12.2463L11.7463 10.7537Z",fill:"#D63638"})}),ve=({moveToNextTab:e,skipToNextTab:t})=>{const[n,s]=(0,_.useState)("disconnected"),i=(0,p.useSelect)((e=>e(V).getSettings)),a=(0,p.useSelect)((e=>e(V).getCountryCurrency())),c=(0,p.useDispatch)(V).updateSettings,{currency:o,currencies:r,paymentOption:l}=(0,p.useSelect)((e=>{const t=e(V);return{currency:t.getSetting("currency"),currencies:t.getSetting("currencies"),paymentOption:t.getSetting("paymentOption")}}),[]),d=(0,p.useSelect)((e=>e(V).getSetting("_wpnonce")),[]),[b,h]=(0,_.useState)(o||a),[m,v]=(0,_.useState)(l||"");(0,_.useEffect)((()=>{void 0!==l&&v(l)}),[l]),(0,_.useEffect)((()=>{m||v("stripe")}),[m]),(0,_.useEffect)((()=>{c({paymentOption:m})}),[m,c]),(0,_.useEffect)((()=>{h(o||a)}),[o,a]),(0,_.useEffect)((()=>{i().stripeConnected&&s("connected")}),[]);const S={currency:b,paymentOption:m,currentTab:1,connectionStatus:n},k=async e=>{s("connecting"),c(S),ce().use(ce().createNonceMiddleware(d));const t=await ce()({method:"POST",data:{...i(),gateway:e,action:"connect"},path:F});c(S),t.signup_url?window.location.href=t.signup_url:s("failed")};return(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)(ge,{}),(0,te.jsxs)("div",{className:"tec-tickets-onboarding__tab-header",children:[(0,te.jsx)("h1",{className:"tec-tickets-onboarding__tab-heading",children:(0,g.__)("Selling Tickets","event-tickets")}),(0,te.jsx)("p",{className:"tec-tickets-onboarding__tab-subheader",children:(0,g.__)("Nail down the basics of your ticket setup.","event-tickets")})]}),(0,te.jsxs)("div",{className:"tec-tickets-onboarding__tab-content",children:[(0,te.jsxs)("div",{className:"tec-tickets-onboarding__form-wrapper",children:["stripe"===m&&(0,te.jsxs)("div",{className:"tec-tickets-onboarding__payment-gateway",children:[(0,te.jsx)("div",{className:"tec-tickets-onboarding__gateway-logo",children:(0,te.jsx)(be,{})}),(0,te.jsx)("p",{className:"tec-tickets-onboarding__gateway-description",children:(0,g.__)("Enable credit card payments, Afterpay, Klarna and more on your website.","event-tickets")}),"connected"===n?(0,te.jsxs)("div",{className:"tec-tickets-onboarding__connection-status tec-tickets-onboarding__connection-status--connected",children:[(0,te.jsx)(he,{})," ",(0,g.__)("Connected","event-tickets")]}):"failed"===n?(0,te.jsxs)(te.Fragment,{children:[(0,te.jsxs)("div",{className:"tec-tickets-onboarding__connection-error",children:[(0,te.jsx)(me,{}),(0,te.jsxs)("span",{className:"tec-tickets-onboarding__error-text",children:[(0,g.__)("Connection failed. ","event-tickets"),(0,te.jsx)("a",{href:"/wp-admin/admin.php?page=tec-tickets-help",className:"tec-tickets-onboarding__support-link",children:(0,g.__)("Contact Support ↗","event-tickets")})]})]}),(0,te.jsx)(u.Button,{isPrimary:!0,className:"tec-tickets-onboarding__try-again",onClick:()=>k(m),children:(0,g.__)("Try again","event-tickets")})]}):""]}),(!m||"stripe"===m&&"connected"!==n)&&(0,te.jsxs)(u.BaseControl,{__nextHasNoMarginBottom:!0,id:"currency-code",label:(0,g.__)("Currency","event-tickets"),className:"tec-tickets-onboarding__form-field",children:[(0,te.jsx)("select",{onChange:e=>h(e.target.value),value:b,required:!0,children:Object.entries(r).map((([e,t])=>(0,te.jsxs)("option",{value:t.code,children:[t.name," (",t.code,")"]},e)))}),(0,te.jsx)("span",{className:"tec-tickets-onboarding__required-label",children:(0,g.__)("Currency is required.","event-tickets")}),(0,te.jsx)("span",{className:"tec-tickets-onboarding__invalid-label",children:(0,g.__)("Currency is invalid.","event-tickets")})]})]}),m&&"connected"!==n?(0,te.jsx)(u.Button,{isPrimary:!0,className:"tec-tickets-onboarding__button",onClick:()=>k(m),disabled:"connecting"===n,children:"connecting"===n?(0,g.__)("Connecting...","event-tickets"):(0,g.__)("Connect to Stripe","event-tickets")}):(0,te.jsx)(_e,{moveToNextTab:e,tabSettings:S,disabled:!1,onSuccess:()=>{}}),"connected"!==n&&(0,te.jsx)(pe,{skipToNextTab:t,currentTab:1})]})]})},Se=()=>(0,te.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:31,height:30,fill:"none",className:"tec-tickets-onboarding__content-header-icon",role:"presentation",children:(0,te.jsx)("path",{fill:"#C3C4C7",d:"M29.835 19.108 26.769 4.51a1.864 1.864 0 0 0-.783-1.148A1.842 1.842 0 0 0 24.63 3.1L2.57 7.758a1.87 1.87 0 0 0-1.149.783c-.26.405-.352.887-.26 1.357l3.065 14.599a1.823 1.823 0 0 0 2.153 1.395l22.048-4.644a1.802 1.802 0 0 0 1.409-2.14Zm-4.958-14.05v.013l-9.197 9.771L3.116 9.624l21.761-4.566ZM6.13 23.948 3.612 11.96l11.95 4.958a.98.98 0 0 0 1.096-.235l8.728-9.276 2.518 11.95L6.13 23.95Z"})}),ke=({moveToNextTab:e,skipToNextTab:t})=>{const n=(0,p.useSelect)((e=>e(V).getSetting("userEmail")||""),[]),[s,i]=(0,_.useState)(n||""),c=(0,p.useSelect)((e=>e(V).getSetting("userName")||""),[]),[o,r]=(0,_.useState)(c||""),[l,d]=(0,_.useState)(!0),[b,h]=(0,_.useState)(!0),[m,v]=(0,_.useState)({email:!1,name:!1}),S=(0,p.useDispatch)(V).updateSettings;(0,a.useEffect)((()=>{S({userEmail:s,userName:o})}),[s,o,S]);const k={userEmail:s,userName:o,currentTab:2},x=l&&b&&s&&o;return(()=>{const e=[];m.email&&!s?e.push((0,g.__)("Email is required.","event-tickets")):m.email&&s&&!l&&e.push((0,g.__)("Please enter a valid email address.","event-tickets")),m.name&&!o?e.push((0,g.__)("Sender name is required.","event-tickets")):m.name&&o&&!b&&e.push((0,g.__)("Please enter a valid name (at least 2 characters).","event-tickets"))})(),(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)(Se,{}),(0,te.jsxs)("div",{className:"tec-tickets-onboarding__tab-header",children:[(0,te.jsx)("h1",{className:"tec-tickets-onboarding__tab-heading",children:(0,g.__)("Communication","event-tickets")}),(0,te.jsx)("p",{className:"tec-tickets-onboarding__tab-subheader",children:(0,g.__)("Put your best face forward—let us know how you'd like your name and email to appear to customers.","event-tickets")})]}),(0,te.jsxs)("div",{className:"tec-tickets-onboarding__tab-content",children:[(0,te.jsxs)("div",{className:"tec-tickets-onboarding__form-wrapper",children:[(0,te.jsxs)(u.BaseControl,{__nextHasNoMarginBottom:!0,id:"sender-email",label:(0,g.__)("Email Address","event-tickets"),help:(0,g.__)("When your customers receive an email about a purchase what address should it be from?","event-tickets"),className:"tec-tickets-onboarding__form-field",children:[(0,te.jsx)("input",{type:"email",id:"sender-email",value:s,onChange:e=>{const t=e.target.value;i(t)},onBlur:()=>{v((e=>({...e,email:!0}))),d((e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e))(s))},placeholder:(0,g.__)("Email","event-tickets"),className:"tec-tickets-onboarding__input"+(!m.email||s&&l?"":" tec-tickets-onboarding__input--invalid"),required:!0}),m.email&&!s&&(0,te.jsx)("span",{className:"tec-tickets-onboarding__invalid-label",style:{display:"block"},children:(0,g.__)("Email is required.","event-tickets")}),m.email&&s&&!l&&(0,te.jsx)("span",{className:"tec-tickets-onboarding__invalid-label",style:{display:"block"},children:(0,g.__)("Please enter a valid email address.","event-tickets")})]}),(0,te.jsxs)(u.BaseControl,{__nextHasNoMarginBottom:!0,id:"sender-name",label:(0,g.__)("Sender Name","event-tickets"),help:(0,g.__)("Who should we say the email is from?","event-tickets"),className:"tec-tickets-onboarding__form-field",children:[(0,te.jsx)("input",{type:"text",id:"sender-name",value:o,onChange:e=>{const t=e.target.value;r(t)},onBlur:()=>{v((e=>({...e,name:!0}))),h(o.trim().length>1)},placeholder:(0,g.__)("Name","event-tickets"),className:"tec-tickets-onboarding__input"+(!m.name||o&&b?"":" tec-tickets-onboarding__input--invalid"),required:!0}),m.name&&!o&&(0,te.jsx)("span",{className:"tec-tickets-onboarding__invalid-label",style:{display:"block"},children:(0,g.__)("Sender name is required.","event-tickets")}),m.name&&o&&!b&&(0,te.jsx)("span",{className:"tec-tickets-onboarding__invalid-label",style:{display:"block"},children:(0,g.__)("Please enter a valid name (at least 2 characters).","event-tickets")})]})]}),(0,te.jsx)(_e,{tabSettings:k,moveToNextTab:e,disabled:!x,onSuccess:()=>{}}),(0,te.jsx)(pe,{skipToNextTab:t,currentTab:2})]})]})},xe=()=>(0,te.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:55,height:55,fill:"none",className:"tec-tickets-onboarding__content-install-icon",role:"presentation",children:[(0,te.jsx)("path",{fill:"#fff",d:"M7.713 21.637c-.82-2.175.324-4.589 2.55-5.376l26.243-9.285c2.268-.802 4.762.398 5.5 2.648l5.259 16.01c.089.271.145.55.156.835.197 5.237-2.37 12.901-10.316 16.627l-7.099 2.784-11.061 3.616a.714.714 0 0 1-.89-.42L7.713 21.638Z"}),(0,te.jsx)("path",{fill:"#334AFF",fillRule:"evenodd",d:"m43.552 13.513-1.196-3.424c-.83-2.357-3.47-3.588-5.857-2.732L11.152 16.45c-2.34.839-3.554 3.37-2.72 5.674l1.2 3.22 33.92-11.83Z",clipRule:"evenodd"}),(0,te.jsx)("path",{fill:"#0F1031",fillRule:"evenodd",d:"M31.964 5.019a.805.805 0 0 0-.99-.39.779.779 0 0 0-.477 1.004l.932 2.512-16.646 5.972-.91-2.455-.035-.078a.805.805 0 0 0-.99-.39.78.78 0 0 0-.477 1.004l.912 2.457-2.771.994-.164.062c-2.644 1.043-3.996 3.955-3.035 6.609l9.815 27.11.04.099a1.52 1.52 0 0 0 1.887.8l10.807-3.876a.814.814 0 0 0 .13-.06.808.808 0 0 0 .218-.083c2.555-1.427 4.47-3.97 6.076-7.467.341-.744.659-1.509.99-2.367l.075-.195.781-2.092a14 14 0 0 1 .33-.809l.074-.153.022-.043.196.006c3.142.084 5.733-.611 7.384-1.864-1.147 4.998-4.78 9.336-10.047 11.225a.779.779 0 0 0-.476 1.005.803.803 0 0 0 1.024.466c9.072-3.253 13.735-13.102 10.417-21.997L42.744 9.768l-.058-.159c-1.035-2.667-4.074-4.04-6.827-3.053l-2.93 1.051-.931-2.51-.034-.078Zm.012 4.598.917 2.47.034.08a.805.805 0 0 0 .99.389.779.779 0 0 0 .477-1.004l-.918-2.473 2.932-1.052.144-.049c1.929-.607 4.016.405 4.682 2.3l4.317 12.27.089.244a15.33 15.33 0 0 1 .875 4.559.767.767 0 0 0-.009.143c.085 2.54-3.113 4.385-8.205 4.11-.746-.04-.954.187-1.527 1.673l-.26.689-.428 1.153-.304.803c-.32.83-.626 1.567-.953 2.278-1.479 3.222-3.21 5.52-5.41 6.749l-.01.005a.824.824 0 0 0-.096.029l-10.71 3.84-9.785-27.027-.05-.146c-.585-1.858.413-3.857 2.292-4.53l2.77-.994.937 2.526.034.08a.805.805 0 0 0 .99.389.779.779 0 0 0 .477-1.004l-.938-2.529 16.646-5.971Z",clipRule:"evenodd"}),(0,te.jsx)("path",{fill:"#334AFF",fillRule:"evenodd",d:"M35.821 23.45c.372.997 1.497 1.51 2.514 1.145 1.017-.365 1.54-1.468 1.167-2.465-.371-.997-1.497-1.51-2.514-1.145-1.016.365-1.539 1.469-1.167 2.466Zm-8.779 3.148c.371.997 1.497 1.51 2.514 1.145 1.017-.364 1.54-1.468 1.167-2.465-.371-.997-1.497-1.51-2.514-1.145-1.016.365-1.54 1.469-1.167 2.465ZM18.26 29.75c.371.997 1.497 1.51 2.514 1.145a1.912 1.912 0 0 0 1.167-2.466c-.372-.996-1.497-1.508-2.515-1.144a1.911 1.911 0 0 0-1.167 2.465Zm11.9 4.306c.37.997 1.497 1.509 2.513 1.144a1.911 1.911 0 0 0 1.167-2.465c-.372-.997-1.497-1.51-2.514-1.145-1.017.365-1.54 1.47-1.167 2.466Zm-8.958 3.21c.372.997 1.497 1.51 2.514 1.145 1.017-.365 1.54-1.468 1.167-2.465-.372-.997-1.497-1.51-2.514-1.145a1.911 1.911 0 0 0-1.167 2.465Z",clipRule:"evenodd"})]}),Te=()=>(0,te.jsx)("svg",{width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",role:"presentation",children:(0,te.jsx)("path",{d:"M19.9436 3L22.5 4.80753L11.297 21H8.7406L2.5 12.2636L5.05639 9.85356L10.0188 14.4477L19.9436 3Z",fill:"#00A32A"})}),Ce=()=>{const e=(0,p.useDispatch)(X).closeModal,t=(0,p.useDispatch)(V).completeTab,n=(0,p.useSelect)((e=>e(V).getSetting("action_nonce")),[]),s=(0,p.useSelect)((e=>e(V).getSetting("_wpnonce")),[]),i=(0,p.useSelect)((e=>e(V).getCompletedTabs)),a=(0,p.useSelect)((e=>e(V).getSkippedTabs)),[c,o]=(0,_.useState)(!1);return(0,_.useEffect)((()=>{c&&(async()=>{t(3),ce().use(ce().createNonceMiddleware(s)),await ce()({method:"POST",data:{finished:!0,begun:!0,action_nonce:n,completedTabs:i(),skippedTabs:a()},path:F}),setTimeout((()=>{e()}),1e3)})()}),[c]),(0,te.jsx)(u.Button,{variant:"link",onClick:()=>o(!0),className:"tec-tickets-onboarding__button tec-tickets-onboarding__button--skip tec-tickets-onboarding__success-finish",children:(0,g.__)("Finish the Event Tickets Setup","event-tickets")})},fe=({onlyActivated:e=!1,alreadyActivated:t=!1})=>{const n=(0,p.useSelect)((e=>e(V).getSetting("tec-wizard-completed")||!1),[]),s=(0,p.useDispatch)(V).completeTab,i=(0,p.useDispatch)(V).updateSettings,[a,c]=(0,_.useState)(!1);return(0,_.useEffect)((()=>{a&&(s(3),i({finished:!0,begun:!0}))}),[a]),(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)(xe,{}),(0,te.jsx)("div",{className:"tec-tickets-onboarding__tab-header",children:(0,te.jsx)("h1",{className:"tec-tickets-onboarding__tab-heading",children:(0,g.__)("The Events Calendar","event-tickets")})}),(0,te.jsxs)("div",{className:"tec-tickets-onboarding__tab-content install-success",children:[(0,te.jsxs)("div",{className:"tec-tickets-onboarding__form-wrapper",children:[(0,te.jsx)("div",{className:"tec-tickets-onboarding__success-icon",children:(0,te.jsx)(Te,{})}),(0,te.jsx)("h3",{className:"tec-tickets-onboarding__success-heading",children:(0,g.__)("Congratulations!","event-tickets")}),(0,te.jsx)("p",{className:"tec-tickets-onboarding__success-message",children:e?(0,g.__)("The Events Calendar is now activated.","event-tickets"):(0,g.__)("The Events Calendar is installed and activated.","event-tickets")})]}),(0,te.jsx)(u.Button,{variant:"primary",className:"tec-tickets-onboarding__button tec-tickets-onboarding__button--next",href:"/wp-admin/edit.php?post_type=tribe_events&page="+(n?"tec-events-settings":"first-time-setup"),onClick:()=>c(!0),children:n?(0,g.__)("Go to The Events Calendar Settings","event-tickets"):(0,g.__)("Continue to The Events Calendar Setup","event-tickets")}),(0,te.jsx)(Ce,{})]})]})},je=({moveToNextTab:e,skipToNextTab:t})=>{const n=(0,p.useSelect)((e=>e(V).getSetting("tecInstalled")||!1),[]),s=(0,p.useSelect)((e=>e(V).getSetting("tecActive")||!1),[]),[i,c]=(0,a.useState)(!1),[o,r]=(0,a.useState)(!0);(0,a.useEffect)((()=>{s&&c(!0)}),[s]);const l={eventsCalendar:o,currentTab:3},d=n?(0,g.__)("Yes, activate The Events Calendar plugin for me.","event-tickets"):(0,g.__)("Yes, install The Events Calendar for free on my website.","event-tickets");return i?(0,te.jsx)(fe,{onlyActivated:n&&!s,alreadyActivated:s}):(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)(xe,{}),(0,te.jsxs)("div",{className:"tec-tickets-onboarding__tab-header",children:[(0,te.jsx)("h1",{className:"tec-tickets-onboarding__tab-heading",children:(0,g.__)("The Events Calendar","event-tickets")}),(0,te.jsx)("p",{className:"tec-tickets-onboarding__tab-subheader",children:(0,g.__)("Want powerful, seamless event management? Get everything you need—from a sleek calendar user interface to event subscriptions, virtual experiences, and custom automations—all in one place.","event-tickets")})]}),(0,te.jsx)("div",{className:"tec-tickets-onboarding__tab-content",children:(0,te.jsxs)("div",{className:"tec-tickets-onboarding__form-wrapper events-install",children:[!s&&(0,te.jsxs)("div",{className:"tec-tickets-onboarding__checkbox tec-tickets-onboarding__checkbox--events",children:[(0,te.jsx)(u.CheckboxControl,{__nextHasNoMarginBottom:!0,"aria-describedby":"tec-tickets-onboarding__checkbox-description",checked:o,onChange:r,id:"tec-tickets-onboarding__events-checkbox-input"}),(0,te.jsxs)("div",{className:"tec-tickets-onboarding__checkbox-description",children:[(0,te.jsx)("label",{htmlFor:"tec-tickets-onboarding__events-checkbox-input",children:d}),(0,te.jsx)("div",{id:"tec-tickets-onboarding__checkbox-description"})]})]}),(0,te.jsx)(_e,{tabSettings:l,moveToNextTab:e,disabled:!o,onSuccess:()=>{c(!0)}}),(0,te.jsx)(pe,{skipToNextTab:t,currentTab:3,buttonText:(0,g.__)("Skip and finish setup","event-tickets")})]})})]})},we=()=>{const e=[{id:"welcome",title:(0,g.__)("Welcome","event-tickets"),content:ue,ref:(0,a.useRef)(null)},{id:"settings",title:(0,g.__)("Selling Tickets","event-tickets"),content:ve,ref:(0,a.useRef)(null)},{id:"communication",title:(0,g.__)("Communication","event-tickets"),content:ke,ref:(0,a.useRef)(null)},{id:"events",title:(0,g.__)("Events","event-tickets"),content:je,ref:(0,a.useRef)(null)}],{closeModal:t}=(0,p.useDispatch)(X),n=(0,p.useSelect)((e=>e(V).getSetting("currentTab")))||0,s=(0,p.useSelect)((e=>e(V).getSkippedTabs()))||[],i=(0,p.useSelect)((e=>e(V).getCompletedTabs()))||[],c=(0,p.useDispatch)(V).completeTab,[o,r]=(0,_.useState)((()=>e.map(((e,t)=>({...e,disabled:t>n}))))),[l,d]=(0,_.useState)(0),u=(e,t)=>{r((n=>n.map(((n,s)=>s===e?{...n,...t}:n))))};(0,_.useEffect)((()=>{var e;n>0&&((e=n)>0&&e<o.length&&(((e,t)=>{r((n=>n.map(((n,s)=>s<e?{...n,...t}:n))))})(e,{completed:i.includes(e),skipped:s.includes(e),disabled:!1}),u(e,{disabled:!1}),d(e)))}),[n]);const b=()=>{l<o.length-1?(u(l,{completed:!0}),c(l),u(l+1,{disabled:!1}),d((e=>{const t=e+1;return o[t].ref.current.focus(),t}))):t()},h=()=>{l<o.length-1?(u(l+1,{disabled:!1}),d((e=>{const t=e+1;return o[t].ref.current.focus(),t}))):t()},m=e=>{o[e].disabled||d(e)},v=e=>{const t=l+e;t>=0&&t<o.length&&!o[t].disabled&&(d(t),o[t].ref.current.focus())};return(0,te.jsxs)("section",{className:`tec-tickets-onboarding__tabs tec-tickets-onboarding__tab-${o[l].id}`,children:[(0,te.jsxs)("div",{className:"tec-tickets-onboarding__tabs-header",children:[(0,te.jsx)(ne,{}),(0,te.jsx)("ul",{role:"tablist",className:"tec-tickets-onboarding__tabs-list","aria-label":"Onboarding Tabs",onKeyDown:e=>{"ArrowRight"===e.key&&v(1),"ArrowLeft"===e.key&&v(-1)},children:o.map(((e,t)=>(0,te.jsx)(ie,{index:t,tab:e,activeTab:l,handleChange:m},e.id)))})]}),o.map(((e,t)=>(0,te.jsx)(se,{tabIndex:t,id:`${e.id}Panel`,tabId:e.id,activeTab:l,children:(0,te.jsx)(e.content,{moveToNextTab:b,skipToNextTab:h})},e.id)))]})},Ee=({bootData:e})=>{const[t,n]=(0,a.useState)(!1),{initializeSettings:s}=(0,p.useDispatch)(V),{openModal:i}=(0,p.useDispatch)(X),{closeModal:c}=(0,p.useDispatch)(X);(0,_.useEffect)((()=>{s(e),n(!0)}),[]);const o=(0,p.useSelect)((e=>e(V).getSetting("finished"))),r=(0,p.useSelect)((e=>e(V).getSetting("forceDisplay"))),l=(0,p.useSelect)((e=>e(V).getSetting("begun"))),d=(0,p.useSelect)((e=>e(X).getIsOpen()));return(0,_.useEffect)((()=>{!t||o&&!r||i()}),[l,o,r,t]),(0,te.jsx)(te.Fragment,{children:d&&(0,te.jsx)(u.Modal,{overlayClassName:"tec-onboarding__modal-overlay",className:"tec-onboarding__modal",contentLabel:"Tickets Onboarding Wizard",isDismissible:!1,isFullScreen:!0,initialTabName:"intro",onRequestClose:c,selectOnMove:!1,shouldCloseOnEsc:!1,shouldCloseOnClickOutside:!1,children:(0,te.jsx)(we,{})})})};let Ne=!1;r()((()=>{const e=document.getElementById("tec-tickets-onboarding-wizard");if(!e)return void console.warn("Trigger element missing.");if(Ne)return void console.warn("Modal already rendered.");const t=e.dataset.containerElement,n=e.dataset.wizardBootData;if(!t||!n)return void console.warn("Container element or boot data is missing.");const s=document.getElementById(t);if(!s)return void console.warn(`Container with ID '${t}' not found.`);let i;try{i=JSON.parse(n)}catch(e){return void console.error("Failed to parse bootData:",e)}d().createRoot(s).render((0,te.jsx)(Ee,{bootData:i})),Ne=!0}))})(),window.tec=window.tec||{},window.tec.tickets=window.tec.tickets||{},window.tec.tickets.wizard={}})();